# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è GitHub Actions

## ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å

**31 —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω, 11 –æ—Å—Ç–∞–ª–æ—Å—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å**

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- ‚úÖ Escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ bot.py (DeprecationWarning)
- ‚úÖ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (ha_client ‚Üí ha_api)
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã telegram-bot (–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ç–µ—Å—Ç—ã)
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã (11 failed tests):

1. **Flask App —Ç–µ—Å—Ç—ã** (5 failed):
   - API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 500 –≤–º–µ—Å—Ç–æ 200
   - –ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º Home Assistant –∫–ª–∏–µ–Ω—Ç–∞
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ API

2. **Home Assistant —Ç–µ—Å—Ç—ã** (3 failed):
   - HTTP –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –†–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ test-ha.local (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

3. **Metrics —Ç–µ—Å—Ç—ã** (3 failed):
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç psutil import
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ metrics summary
   - –ü—Ä–æ–±–ª–µ–º—ã —Å mock decorator

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è CI

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π .github/workflows/ci.yml:
```yaml
- name: Run tests with coverage
  run: |
    uv run pytest tests/test_basic.py --cov=app.py,home_assistant.py,metrics.py --cov-report=xml --cov-report=html --cov-report=term-missing --verbose
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã (8/8) –ø—Ä–æ—Ö–æ–¥—è—Ç + —É–ª—É—á—à–µ–Ω–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ç–µ—Å—Ç—ã:

```yaml
- name: Run tests with coverage  
  run: |
    uv run pytest --cov=app.py,home_assistant.py,metrics.py --cov-report=xml --cov-report=html --cov-report=term-missing --verbose --ignore=tests/test_bot.py -x
```

## üìù –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è:

1. –î–æ–±–∞–≤–∏—Ç—å psutil –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–µ—Ç—Ä–∏–∫
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å API response mocking

–ù–æ –¥–ª—è GitHub Actions —Å–µ–π—á–∞—Å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ test_basic.py - –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.